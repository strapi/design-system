<!--- HeaderLayout.stories.mdx --->

import { useState } from 'react';
import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { ArgsTable } from '@storybook/addon-docs';
import ArrowLeft from '@strapi/icons/ArrowLeft';
import Pencil from '@strapi/icons/Pencil';
import Plus from '@strapi/icons/Plus';
import { BaseHeaderLayout, HeaderLayout } from './HeaderLayout';
import { ModalLayout } from '../ModalLayout';
import { Link } from '../Link';
import { Breadcrumbs, Crumb } from '../Breadcrumbs';
import { Button } from '../Button';
import { Box } from '../Box';
import { VisuallyHidden } from '../VisuallyHidden';

<Meta title="Design System/Components/HeaderLayout" component={HeaderLayout} />

# BaseHeaderLayout

Headers can be composed of a main title, a description and buttons. They are placed at the very top of a page.

**Best practices**

- Always use a header on top of a page.
- Always add a title in the header.
- The main container should be placed right below the Header.

[View source](https://github.com/strapi/design-system/tree/main/packages/strapi-design-system/src/Layout)

## Imports

```js
import { BaseHeaderLayout, HeaderLayout } from '@strapi/design-system';
```

## Usage

=======

Headers are placed at the very top of each page. Descriptions and buttons are optional.

<Canvas>
  <Story name="base">
    <Box background="neutral100">
      <BaseHeaderLayout
        navigationAction={
          <Link startIcon={<ArrowLeft />} to="/">
            Go back
          </Link>
        }
        primaryAction={<Button startIcon={<Plus />}>Add an entry</Button>}
        secondaryAction={
          <Button variant="tertiary" startIcon={<Pencil />}>
            Edit
          </Button>
        }
        title="Restaurants"
        subtitle="36 entries found"
        as="h2"
      />
    </Box>
  </Story>
</Canvas>

### HeaderLayout without nav action

<Canvas>
  <Story name="base without nav action">
    <Box background="neutral100">
      <BaseHeaderLayout
        primaryAction={<Button startIcon={<Plus />}>Add an entry</Button>}
        secondaryAction={
          <Button variant="tertiary" startIcon={<Pencil />}>
            Edit
          </Button>
        }
        title="Other CT"
        subtitle="36 entries found"
        as="h2"
      />
    </Box>
  </Story>
</Canvas>

### HeaderLayout with custom subtitle

<Canvas>
  <Story name="base with custom subtitle">
    <Box background="neutral100">
      <BaseHeaderLayout
        title="Media Library"
        subtitle={
          <Breadcrumbs label="folders">
            <Crumb>Animals</Crumb>
            <Crumb>Cats</Crumb>
          </Breadcrumbs>
        }
        as="h2"
      />
    </Box>
  </Story>
</Canvas>

### HeaderLayout sticky

<Canvas>
  <Story name="sticky">
    <Box background="neutral100">
      <BaseHeaderLayout
        sticky
        navigationAction={
          <Link startIcon={<ArrowLeft />} to="/">
            <VisuallyHidden>Go back</VisuallyHidden>
          </Link>
        }
        primaryAction={<Button startIcon={<Plus />}>Add an entry</Button>}
        secondaryAction={
          <Button variant="tertiary" startIcon={<Pencil />}>
            Edit
          </Button>
        }
        title="Restaurants"
        subtitle="36 entries found"
        as="h2"
      />
    </Box>
  </Story>
</Canvas>

### HeaderLayout

This header is combined with scroll.

<Canvas>
  <Story name="combined w/ scroll" parameters={{ layout: 'fullscreen' }}>
    {() => {
      const [isVisible, setIsVisible] = useState(false);
      return (
        <Box background="neutral100" style={{ height: 2000 }}>
          <HeaderLayout
            navigationAction={
              <Link startIcon={<ArrowLeft />} to="/">
                Go back
              </Link>
            }
            primaryAction={
              <Button startIcon={<Plus />} onClick={() => setIsVisible(true)}>
                Add an entry
              </Button>
            }
            secondaryAction={
              <Button variant="tertiary" startIcon={<Pencil />}>
                Edit
              </Button>
            }
            title="Restaurants"
            subtitle="36 entries found"
            as="h2"
          />
          {isVisible && (
            <ModalLayout onClose={() => setIsVisible(false)} labelledBy="subtitle">
              <button onClick={() => setIsVisible(false)}>Close me</button>
              <h2 id="subtitle">Here we are</h2>
            </ModalLayout>
          )}
        </Box>
      );
    }}
  </Story>
</Canvas>

## Props

<ArgsTable of={HeaderLayout} />

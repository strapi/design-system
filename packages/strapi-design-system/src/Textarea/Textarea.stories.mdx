<!--- Textarea.stories.mdx --->

import { useState } from 'react';
import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { ArgsTable } from '@storybook/addon-docs';
import Information from '@strapi/icons/Information';
import { Textarea } from './Textarea';
import { Tooltip } from '../Tooltip';
import { Box } from '../Box';

<Meta title="Design System/Components/Textarea" component={Textarea} />

# Textarea

TextAreas are inputs that allow users to add or edit text. They support long text formats.

**Best practices**

- Icons are always on the right side within the input (writing area) itself, never on the left side.
- Labels should be clear and concise. A few words only and without punctuation.
- Use description line as a help to give more details about the required action.
- Make sure to use the placeholder feature whenever clarification are helpful on how to use the input.
- Make sure to use to define the input as required whenever it is absolutely mandatory.
- The error message will replace the description line. The two of them cannot be on top of each other.
- The error message can be customized, make sure to write actionable information within it to help resolve an issue.

[View source](https://github.com/strapi/design-system/tree/main/packages/strapi-design-system/src/Textarea)

## Imports

```js
import { Textarea } from '@strapi/design-system';
```
## Usage

`Textarea` can be found in forms. It allows user to enter a sizeable amount of free-form text.

### Textarea base

In addition of plain text, `Textarea` can also include a placeholder and a description line.

<Canvas>
  <Story name="base">
    {() => {
      const [content, setContent] = useState('');
      return (
        <Box padding={10}>
          <Textarea
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            onChange={(e) => setContent(e.target.value)}
            labelAction={
              <Tooltip description="Content of the tooltip" position="right">
                <button
                  aria-label="Information about the email"
                  style={{ border: 'none', padding: 0, background: 'transparent' }}
                >
                  <Information aria-hidden={true} />
                </button>
              </Tooltip>
            }
          >
            {content}
          </Textarea>
        </Box>
      );
    }}
  </Story>
</Canvas>

### Error state

`Textarea` can display an error. The error message is customizable and replaces the description line below the input.

<Canvas>
  <Story name="error">
    {() => {
      const [content, setContent] = useState('');
      return (
        <Box padding={10}>
          <Textarea
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            error={content.length < 5 ? 'Content is too short' : undefined}
            onChange={(e) => setContent(e.target.value)}
            labelAction={
              <Tooltip description="Content of the tooltip" position="right">
                <button
                  aria-label="Information about the email"
                  style={{ border: 'none', padding: 0, background: 'transparent' }}
                >
                  <Information aria-hidden />
                </button>
              </Tooltip>
            }
          >
            {content}
          </Textarea>
        </Box>
      );
    }}
  </Story>
</Canvas>

### Disabled state

Depending on the permissions a user have or the status of an action, a `Textarea` can be unreachable or unavailable yet.

<Canvas>
  <Story name="disabled">
    {() => {
      const [content, setContent] = useState('');
      return (
        <Box padding={10}>
          <Textarea
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            disabled
            onChange={(e) => setContent(e.target.value)}
            labelAction={
              <Tooltip description="Content of the tooltip" position="right">
                <button
                  aria-label="Information about the email"
                  style={{ border: 'none', padding: 0, background: 'transparent' }}
                >
                  <Information aria-hidden />
                </button>
              </Tooltip>
            }
          >
            {content}
          </Textarea>
        </Box>
      );
    }}
  </Story>
</Canvas>

### Required state

`Textarea` can be required. The required state will appear with a red asterisk beside the label.

<Canvas>
  <Story name="required">
    {() => {
      const [content, setContent] = useState('');
      return (
        <Box padding={10}>
          <Textarea
            placeholder="This is a content placeholder"
            label="Content"
            name="content"
            hint="Description line"
            required
            onChange={(e) => setContent(e.target.value)}
            labelAction={
              <Tooltip description="Content of the tooltip" position="right">
                <button
                  aria-label="Information about the email"
                  style={{ border: 'none', padding: 0, background: 'transparent' }}
                >
                  <Information aria-hidden={true} />
                </button>
              </Tooltip>
            }
          >
            {content}
          </Textarea>
        </Box>
      );
    }}
  </Story>
</Canvas>

## Props

<ArgsTable of={Textarea} />

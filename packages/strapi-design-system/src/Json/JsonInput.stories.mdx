<!--- JsonInput.stories.mdx --->

import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { ArgsTable } from '@storybook/addon-docs';
import { JsonInput } from './JsonInput';
import { Box } from '../Box';

<Meta title="Design System/Components/JsonInput" component={JsonInput} />

# JsonInput

JSON input allows users to view, add or edit json data in a dedicated editor.

**Best practices**

- JSON input should be part of a form and must not take less than 50% of the container.
- If raw data needs to be displayed, JSON inputs are the best component to use.
- Use description line as a help to give more details about the required action.
- Make sure to define the input as required whenever it is absolutely mandatory.
- The error message will replace the description line. The two of them cannot be on top of each other.
- The error message can be customized, make sure to write actionable information within it to help resolve an issue.

[View source](https://github.com/strapi/design-system/tree/main/packages/strapi-design-system/src/JsonInput)

## Imports

```js
import { JsonInput } from '@strapi/design-system';
```

## Usage

JSON input allows users to add, edit or view json data in a dedicated editor.They can be coupled with a description line to give more hints about their purpose. JSON inputs can also be used to display raw data.

<Canvas withSource="open">
  <Story
    name="base"
    parameters={{
      docs: { 
        source: {
          code: `<JsonInput value={'[\n   {\n      "a":3,\n      "b":4\n   },\n   {\n      "a":5,\n      "b":6\n   }\n]'} />`,
        },
      },
    }}
  >
      <JsonInput disabled value={'[\n   {\n      "a":3,\n      "b":4\n   },\n   {\n      "a":5,\n      "b":6\n   }\n]'} />
  </Story>
</Canvas>

## Editable

JSON input can be defined as read-only or can allow you to interact and edit the data.

<Canvas>
  <Story
    name="editable"
    parameters={{
      docs: { 
        source: {
          code: `<JsonInput value={'[\n   {\n      "a":3,\n      "b":4\n   },\n   {\n      "a":5,\n      "b":6\n   }\n]'} label="Json" editable hint="Description Text" />`,
        },
      },
    }}
  >
      <JsonInput value={'[\n   {\n      "a":3,\n      "b":4\n   },\n   {\n      "a":5,\n      "b":6\n   }\n]'} label="Json" hint="Description Text" />
  </Story>
</Canvas>

## With error

JSON input can display an error. The error message is customizable and replaces the description line below the input.

<Canvas>
  <Story
    name="withError"
    parameters={{
      docs: { 
        source: {
          code: `<JsonInput value={'[\n   {\n      "a":3,\n      "b":4\n   },\n   {\n      "a":5,\n      "b":6,\n   }\n]'} error="This does not match the JSON format"/>`,
        },
      },
    }}
  >
     <JsonInput disabled value={'[\n   {\n      "a":3,\n      "b":4\n   },\n   {\n      "a":5,\n      "b":6,\n   }\n]'} error="This does not match the JSON format" />
  </Story>
</Canvas>

## Props

<ArgsTable of={JsonInput} />

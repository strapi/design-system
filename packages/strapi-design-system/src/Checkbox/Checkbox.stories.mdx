<!--- Button.stories.mdx --->

import { useState } from 'react';
import { ArgsTable } from '@storybook/addon-docs';
import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { Checkbox } from './Checkbox';

<Meta title="Design System/Components/Checkbox" component={Checkbox} />

# Checkbox

Checkboxes allow users to choose one or multiple values from a range of options.

**Best practices**

- Content of the checkbox should be concise and straightforward.
- Use the Radio button component if the user should select only one value.
- Start all checkbox labels with a capital letter.
- Avoid using hint state in tables.

[View source](https://github.com/strapi/design-system/tree/main/packages/strapi-design-system/src/Checkbox)

## Imports

```js
import { Checkbox } from '@strapi/design-system';
```

## Usage

<Canvas withSource="open">
  <Story name="base" parameters={{ docs: { source: { code: '<Checkbox>Label</Checkbox>' } } }}>
    {() => {
      const [val, setValue] = useState(false);
      return (
        <Checkbox name="default" onValueChange={(value) => setValue(value)} value={val}>
          Label
        </Checkbox>
      );
    }}
  </Story>
</Canvas>

### Indeterminate checkbox

<Canvas withSource="open">
  <Story
    name="indeterminate"
    parameters={{
      docs: {
        source: {
          code: `<Checkbox indeterminate>Parent</Checkbox>`,
        },
      },
    }}
  >
    {() => {
      const [checkedItems, setCheckedItems] = useState([true, false]);
      const allChecked = checkedItems.every(Boolean);
      const isIndeterminate = checkedItems.some(Boolean) && !allChecked;
      return (
        <ul>
          <li>
            <Checkbox
              id="parent"
              name="parent"
              indeterminate={isIndeterminate}
              onValueChange={(value) => setCheckedItems([value, value])}
              value={allChecked}
            >
              Parent
            </Checkbox>
          </li>
          <li>
            <ul>
              <li>
                <Checkbox
                  id="child1"
                  name="child1"
                  onValueChange={(value) => setCheckedItems([value, checkedItems[1]])}
                  value={checkedItems[0]}
                >
                  Child 1
                </Checkbox>
              </li>
              <li>
                <Checkbox
                  id="child2"
                  name="child2"
                  onValueChange={(value) => setCheckedItems([checkedItems[0], value])}
                  value={checkedItems[1]}
                >
                  Child 2
                </Checkbox>
              </li>
            </ul>
          </li>
        </ul>
      );
    }}
  </Story>
</Canvas>

#### Checked

Checked state is used to show that an option has been selected.

#### Indeterminate

Indeterminate state is used to show partially checked states.

#### Unchecked

Unchecked state is used to show that an option has been selected.

### Disabled

Checkboxes can possibily not be available to selection yet. This state can be related to a lack of permission or a need
to pursue another action first.

<Canvas withSource="open">
  <Story name="disabled" parameters={{ docs: { source: { code: '<Checkbox disabled>Label</Checkbox>' } } }}>
    {() => {
      const [val, setValue] = useState(false);
      return (
        <Checkbox disabled name="default" onValueChange={(value) => setValue(value)} value={val}>
          Label
        </Checkbox>
      );
    }}
  </Story>
</Canvas>

### Hint

Use hint state to give more information about the purpose of a checkbox.

<Canvas withSource="open">
  <Story
    name="hint"
    parameters={{ docs: { source: { code: '<Checkbox hint="Description line lorem ipsum">Label</Checkbox>' } } }}
  >
    {() => {
      const [val, setValue] = useState(false);
      return (
        <Checkbox
          hint="Description line lorem ipsum"
          name="default"
          onValueChange={(value) => setValue(value)}
          value={val}
        >
          Label
        </Checkbox>
      );
    }}
  </Story>
</Canvas>

### Error

Display an error message.

<Canvas withSource="open">
  <Story
    name="error"
    parameters={{ docs: { source: { code: '<Checkbox error="Description line lorem ipsum">Label</Checkbox>' } } }}
  >
    {() => {
      const [val, setValue] = useState(false);
      return (
        <Checkbox
          error="Description line lorem ipsum"
          name="default"
          onValueChange={(value) => setValue(value)}
          value={val}
        >
          Label
        </Checkbox>
      );
    }}
  </Story>
</Canvas>

## Accessibility

- Checkbox has role of checkbox.
- When Checkbox has focus, `Space` or `Enter` activates/deactivates it.

## Props

<ArgsTable of={Checkbox} />

<!--- ModalLayout.stories.mdx --->

import { useState } from 'react';
import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { ArgsTable } from '@storybook/addon-docs';
import { ModalLayout } from './ModalLayout';
import { ModalHeader } from './ModalHeader';
import { ModalFooter } from './ModalFooter';
import { ModalBody } from './ModalBody';
import { Typography } from '../Typography';
import { Box } from '../Box';
import { Button } from '../Button';
import { DatePicker } from '../DatePicker';

<Meta title="Design System/Components/ModalLayout" component={ModalLayout} />

# ModalLayout

The `ModalLayout` can be used to create a custom modal.

[View source](https://github.com/strapi/design-system/tree/main/packages/strapi-design-system/src/ModalLayout)

## Imports

```js
import { ModalLayout, ModalBody, ModalHeader, ModalFooter } from '@strapi/design-system';
```

## Usage

<Canvas>
  <Story name="base">
    {() => {
      const [isVisible, setIsVisible] = useState(false);
      const [date, setDate] = useState();
      return (
        <>
          <Button onClick={() => setIsVisible((prev) => !prev)}>Click to open Modal</Button>
          <p style={{ height: '60vh' }}>This is a raw content</p>
          {isVisible && (
            <ModalLayout onClose={() => setIsVisible((prev) => !prev)} labelledBy="title">
              <ModalHeader>
                <Typography fontWeight="bold" textColor="neutral800" as="h2" id="title">
                  Title
                </Typography>
              </ModalHeader>
              <ModalBody>
                <DatePicker
                  onChange={setDate}
                  selectedDate={date}
                  label="Date picker"
                  name="datepicker"
                  clearLabel="Clear the datepicker"
                  onClear={() => setDate(undefined)}
                  selectedDateLabel={(formattedDate) => `Date picker, current is ${formattedDate}`}
                />
                {Array(50)
                  .fill(null)
                  .map((_, index) => (
                    <Box key={`box-${index}`} padding={8} background="neutral100">
                      Hello world
                    </Box>
                  ))}
              </ModalBody>
              <ModalFooter
                startActions={
                  <Button onClick={() => setIsVisible((prev) => !prev)} variant="tertiary">
                    Cancel
                  </Button>
                }
                endActions={
                  <>
                    <Button variant="secondary">Add new stuff</Button>
                    <Button onClick={() => setIsVisible((prev) => !prev)}>Finish</Button>
                  </>
                }
              />
            </ModalLayout>
          )}
        </>
      );
    }}
  </Story>
</Canvas>

## Props

### ModalLayout props

The ModalLayout component wraps all its children in the
(Box)[https://design-system-git-main-strapijs.vercel.app/?path=/docs/design-system-technical-components-box--base]
component, so you can pass all Box props to change its style.

<ArgsTable of={ModalLayout} />

### ModalHeader props

<ArgsTable of={ModalHeader} />

### ModalFooter props

<ArgsTable of={ModalFooter} />

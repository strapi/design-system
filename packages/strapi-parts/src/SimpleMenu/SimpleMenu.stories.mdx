<!--- SimpleMenu.stories.mdx --->

import { useState } from 'react';
import { ArgsTable } from '@storybook/addon-docs';
import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import FilterDropdown from '@strapi/icons/FilterDropdown';
import { SimpleMenu, MenuItem } from './SimpleMenu';
import { IconButton } from '../IconButton';

<Meta title="Design System/Components/SimpleMenu" component={SimpleMenu} />

# SimpleMenu

A menu displays a list of potential options or actions via a Popover component. A menu is used to give choices to the users in small spaces. However, a single option or action should be taken via a menu.

**Best practices**

- Use menu for small spaces. When there is more space, use Select component.
- Use menu if you want the user to make a single choice. When you need your user to select one or several options, use Select component.
- Try to have a sort logic in the popover of the menu.

[View source](https://github.com/strapi/design-system-experiments/tree/develop/packages/strapi-design-system/src/SimpleMenu)

## Imports

```js
import { SimpleMenu, MenuItem } from '@strapi/design-system/SimpleMenu';
```

## Usage

The label of the menu can be replaced by the option selected. For instance, in a Date picker component, the menu label will be replaced by the active month.

<Canvas>
  <Story
    name="base"
    parameters={{
      docs: {
        source: {
          code: `
const [val, setValue] = useState('January');\n
return (
  <SimpleMenu id="label" label={val}>
    <MenuItem id="menuItem-January" onClick={() => setValue('January')}>
      January
    </MenuItem>
    <MenuItem id="menuItem-February" onClick={() => setValue('February')}>
      February
    </MenuItem>
  </SimpleMenu>
);
  `,
        },
      },
    }}
  >
    {() => {
      const [val, setValue] = useState('January');
      return (
        <SimpleMenu id="label" label={val}>
          <MenuItem id="menuItem-January" onClick={() => setValue('January')}>
            January
          </MenuItem>
          <MenuItem id="menuItem-February" onClick={() => setValue('February')}>
            February
          </MenuItem>
        </SimpleMenu>
      );
    }}
  </Story>
</Canvas>

### With links

<Canvas>
  <Story
    name="with-links"
    parameters={{
      docs: {
        source: {
          code: `
<SimpleMenu label="Menu">
  <MenuItem to="/">
    Home
  </MenuItem>
  <MenuItem to="/somewhere">
    Somewhere internal
  </MenuItem>
</SimpleMenu>
  `,
        },
      },
    }}
  >
    <SimpleMenu label="Menu">
      <MenuItem to="/">Home</MenuItem>
      <MenuItem to="/somewhere">Somewhere internal</MenuItem>
    </SimpleMenu>
  </Story>
</Canvas>

A menu can allow the user to make actions. It can redirect the user to another page or another part of the product.

### With IconButton

<Canvas>
  <Story name="with-iconbutton">
    <SimpleMenu label="Menu" as={IconButton} icon={<FilterDropdown />}>
      <MenuItem>Home</MenuItem>
      <MenuItem>Somewhere internal</MenuItem>
    </SimpleMenu>
  </Story>
</Canvas>

## Accessibility

- When the menu button has focus, `Space` or `Enter` opens or closes the menu.
- When the menu is open, the navigation between menu items can be done with the `ArrowDown` or `ArrowUp`

## SimpleMenu props

<ArgsTable of={SimpleMenu} />

## MenuItem props

<ArgsTable of={MenuItem} />

<!--- SubNav.stories.mdx --->

import { useState } from 'react';
import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import Applications from '@strapi/icons/Applications';
import AddIcon from '@strapi/icons/AddIcon';
import ApiTokens from '@strapi/icons/ApiTokens';
import AlertWarningIcon from '@strapi/icons/AlertWarningIcon';
import AlertInfoIcon from '@strapi/icons/AlertInfoIcon';
import { MemoryRouter } from 'react-router-dom';
import { SubNav } from './SubNav';
import { SubNavHeader } from './SubNavHeader';
import { SubNavSection } from './SubNavSection';
import { SubNavSections } from './SubNavSections';
import { SubNavLink } from './SubNavLink';
import { SubNavLinkSection } from './SubNavLinkSection';
import { Box } from '../Box';
import { Link } from '../Link';
import { Row } from '../Row';
import { TextButton } from '../TextButton';

<Meta title="Design System/Organisms/SubNav" component={SubNav} />

# SubNav

This is the doc of the `SubNav` component

## SubNav

Description...

<Canvas>
  <Story name="base">
    {() => {
      const [search, setSearch] = useState('');
      const links = [
        {
          id: 1,
          label: 'Addresses',
          icon: <AlertWarningIcon />,
          to: '/address',
        },
        {
          id: 2,
          label: 'Categories',
          to: '/category',
        },
        {
          id: 3,
          label: 'Cities',
          icon: <Applications />,
          to: '/city',
          active: true,
        },
        {
          id: 4,
          label: 'Countries',
          to: '/country',
        },
      ];
      return (
        <Row>
          <Box padding={10} style={{ height: '100vh' }}>
            <SubNav ariaLabel="Builder sub nav">
              <SubNavHeader
                searchable
                value={search}
                onClear={() => setSearch('')}
                onChange={(e) => setSearch(e.target.value)}
                label="Builder"
                searchLabel="Search..."
              />
              <SubNavSections>
                <SubNavSection label="Collection Type" collapsable badgeLabel={links.length.toString()}>
                  {links.map((link) => (
                    <SubNavLink to={link.to} active={link.active} key={link.id}>
                      {link.label}
                    </SubNavLink>
                  ))}
                </SubNavSection>
                <Box as="li" paddingLeft={7}>
                  <TextButton startIcon={<AddIcon />}>Click on me</TextButton>
                </Box>
                <SubNavSection label="Single Type" collapsable badgeLabel={links.length.toString()}>
                  <SubNavLinkSection label="Default">
                    {links.map((link) => (
                      <SubNavLink to={link.to} key={link.id}>
                        {link.label}
                      </SubNavLink>
                    ))}
                  </SubNavLinkSection>
                </SubNavSection>
                <Box as="li" paddingLeft={7}>
                  <TextButton startIcon={<AddIcon />}>Click on me</TextButton>
                </Box>
              </SubNavSections>
            </SubNav>
          </Box>
          <Box padding={10} style={{ height: '100vh' }}>
            <SubNav ariaLabel="Settings sub nav">
              <SubNavHeader label="Settings" />
              <SubNavSections>
                <SubNavLink to="/blabla" withBullet icon={<Applications />} className="active">
                  Application
                </SubNavLink>
                <SubNavSection label="Global Settings">
                  {links.map(
                    (link) =>
                      link.icon && (
                        <SubNavLink to={link.to} active={link.active} icon={link.icon} key={link.id}>
                          {link.label}
                        </SubNavLink>
                      ),
                  )}
                </SubNavSection>
                <SubNavSection label="Permissions">
                  {links.map(
                    (link) =>
                      link.icon && (
                        <SubNavLink to={link.to} icon={link.icon} key={link.id}>
                          {link.label}
                        </SubNavLink>
                      ),
                  )}
                </SubNavSection>
              </SubNavSections>
            </SubNav>
          </Box>
          <Box padding={10} style={{ height: '100vh' }}>
            <SubNav ariaLabel="Mixed sub nav">
              <SubNavHeader label="Mixed" />
              <SubNavSections>
                <SubNavLink to="/blabla" withBullet icon={<Applications />}>
                  Application
                </SubNavLink>
                <SubNavSection label="Global Settings">
                  <SubNavLinkSection label="Sub section">
                    {links.map((link) => (
                      <SubNavLink to={link.to} active={link.active} icon={link.icon} key={link.id}>
                        {link.label}
                      </SubNavLink>
                    ))}
                  </SubNavLinkSection>
                </SubNavSection>
                <SubNavSection label="Permissions">
                  {links.map((link) => (
                    <SubNavLink to={link.to} icon={link.icon} key={link.id}>
                      {link.label}
                    </SubNavLink>
                  ))}
                </SubNavSection>
              </SubNavSections>
            </SubNav>
          </Box>
        </Row>
      );
    }}
  </Story>
</Canvas>

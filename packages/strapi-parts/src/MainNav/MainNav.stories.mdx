<!--- MainNav.stories.mdx --->

import { useState, useRef } from 'react';
import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import { ArgsTable } from '@storybook/addon-docs';
import ContentIcon from '@strapi/icons/ContentIcon';
import CtbIcon from '@strapi/icons/ContentTypeBuilderIcon';
import MediaLibIcon from '@strapi/icons/MediaLibrary';
import AlertInfoIcon from '@strapi/icons/AlertInfoIcon';
import PluginsIcon from '@strapi/icons/PluginsIcons';
import MarketPlaceIcon from '@strapi/icons/MarketplaceIcon';
import SettingsIcon from '@strapi/icons/Settings';
import { MemoryRouter } from 'react-router-dom';
import { MainNav } from './MainNav';
import { NavSection } from './NavSection';
import { NavSections } from './NavSections';
import { NavCondense } from './NavCondense';
import { NavLink } from './NavLink';
import { NavUser } from './NavUser';
import { NavBrand } from './NavBrand';
import { Box } from '../Box';
import { Stack } from '../Stack';
import { Text } from '../Text';
import { Divider } from '../Divider';
import { Popover } from '../Popover';
import strapiImage from './strapi-img.png';

<Meta title="Design System/Organisms/MainNav" component={MainNav} />

# MainNav

The Main Navigation is consistenly available and displayed on all the different pages of the admin panel to access the different main sections. Thanks to it the users can easily navigation from a section to another. The Main Navigation can be whether collapsed or extended depending on the user's choice.

**Best practices**

- It is not possible to have more than 2 navigation bars next to each others.
- Each section has its own icon and is associated with a Tooltip.
- Do not use icons for headers
- Use sentence case for section names and all caps for header labels.
- Logo asset on the top-left of the Main Navigation can be customized.
  [View source](https://github.com/strapi/parts/tree/develop/packages/strapi-parts/src/MainNav)

## Imports

```js
import ContentIcon from '@strapi/icons/ContentIcon';
import CtbIcon from '@strapi/icons/ContentTypeBuilderIcon';
import MediaLibIcon from '@strapi/icons/MediaLibrary';
import AlertInfoIcon from '@strapi/icons/AlertInfoIcon';
import PluginsIcon from '@strapi/icons/PluginsIcons';
import MarketPlaceIcon from '@strapi/icons/MarketplaceIcon';
import SettingsIcon from '@strapi/icons/Settings';
import { MemoryRouter } from 'react-router-dom';
import { MainNav } from '@strapi/parts/MainNav';
import { NavSection } from '@strapi/parts/NavSection';
import { NavSections } from '@strapi/parts/NavSections';
import { NavCondense } from '@strapi/parts/NavCondense';
import { NavLink } from '@strapi/parts/NavLink';
import { NavUser } from '@strapi/parts/NavUser';
import { NavBrand } from '@strapi/parts/NavBrand';
import { Box } from '@strapi/parts/Box';
import { Divider } from '@strapi/parts/Divider';
import strapiImage from './strapi-img.png';
```

## Usage

The Main Navigation can be whether collapsed or extended depending on the user's choice with the Arrow icon at the bottom.

The user profile can be accessed by clicking on the user name at the bottom of the Main Navigation, as much as the possibility to log out the admin panel.

According to permissions, certain sections of the Main Navigation might not be visible nor accessible by specific users.

## Hierarchy

Related sections are gathered under specific headers within the Main Navigation. These headers are helpful to understand the global product hierarchy.

Exception made for core plugins (i.e. Content Manager, Content-types Builder, Media Library) but a plugin should not take place in the Main Navigation. The Main Navigation remains are concise as possible to quickly reach the most important actions.

### MainNav

<Canvas>
  <Story name="base">
    {() => {
      const [condensed, setCondensed] = useState(false);
      return (
        <Box background="neutral100" padding={10} style={{ height: '100vh' }}>
          <MainNav condensed={condensed}>
            <NavBrand workplace="Workplace" title="Strapi Dashboard" icon={<img src={strapiImage} alt="" />} />
            <Divider />
            <NavSections>
              <NavLink to="/cm" icon={<ContentIcon />} className="active">
                Content-type-builder
              </NavLink>
              <NavSection label="Plugins">
                <NavLink to="/builder" icon={<CtbIcon />}>
                  Builder
                </NavLink>
                <NavLink to="/content" icon={<MediaLibIcon />}>
                  Media library
                </NavLink>
                <NavLink to="/content" icon={<AlertInfoIcon />}>
                  Documentation
                </NavLink>
              </NavSection>
              <NavSection label="General">
                <NavLink to="/builder" icon={<PluginsIcon />}>
                  Plugins
                </NavLink>
                <NavLink to="/content" icon={<MarketPlaceIcon />}>
                  Marketplace
                </NavLink>
                <NavLink to="/content" icon={<SettingsIcon />}>
                  Settings
                </NavLink>
              </NavSection>
            </NavSections>
            <NavUser src="https://avatars.githubusercontent.com/u/3874873?v=4" to="/somewhere-i-belong">
              John Duff
            </NavUser>
            <NavCondense onClick={() => setCondensed((s) => !s)}>
              {condensed ? 'Expanded the navbar' : 'Collapse the navbar'}
            </NavCondense>
          </MainNav>
        </Box>
      );
    }}
  </Story>
  <Story name="notifications">
    {() => {
      const [condensed, setCondensed] = useState(false);
      const numberOfNotifications = 2;
      return (
        <Box background="neutral100" padding={10} style={{ height: '100vh' }}>
          <MainNav condensed={condensed}>
            <NavBrand workplace="Workplace" title="Strapi Dashboard" icon={<img src={strapiImage} alt="" />} />
            <Divider />
            <NavSections>
              <NavLink to="/cm" icon={<ContentIcon />} className="active">
                Content
              </NavLink>
              <NavSection label="Plugins">
                <NavLink to="/builder" icon={<CtbIcon />}>
                  Builder
                </NavLink>
                <NavLink to="/content" icon={<MediaLibIcon />}>
                  Media library
                </NavLink>
                <NavLink to="/content" icon={<AlertInfoIcon />}>
                  Documentation
                </NavLink>
              </NavSection>
              <NavSection label="General">
                <NavLink to="/builder" icon={<PluginsIcon />}>
                  Plugins
                </NavLink>
                <NavLink to="/content" badgeContent={'new'} icon={<MarketPlaceIcon />} badgeAriaLabel="new content">
                  Marketplace
                </NavLink>
                <NavLink
                  to="/content"
                  badgeContent={numberOfNotifications}
                  icon={<SettingsIcon />}
                  badgeAriaLabel={`${numberOfNotifications} notifications`}
                >
                  Settings
                </NavLink>
              </NavSection>
            </NavSections>
            <NavUser initials="JD">John Duff</NavUser>
            <NavCondense onClick={() => setCondensed((s) => !s)}>
              {condensed ? 'Expanded the navbar' : 'Collapse the navbar'}
            </NavCondense>
          </MainNav>
        </Box>
      );
    }}
  </Story>
</Canvas>

## Props

<ArgsTable of={MainNav} />

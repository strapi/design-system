import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';

import { useState } from 'react';
import { Pencil, Play, Trash, Plus } from '@strapi/icons';
import { CarouselInput, CarouselSlide, CarouselImage, CarouselActions, IconButton } from '@strapi/design-system';

<Meta title="Design System/Components/CarouselInput" component={CarouselInput} />

# CarouselInput

Carousels are slideshow components for navigating through a set of assets.

**Best practices**

- Carousels should be mostly used in forms.
- Carousels can also be used to display only one asset.
- The end of a CarouselInput label should indicate the amount of included assets.
- A set of actions is possible via Icon Buttons within a CarouselInput.
- Carousels should at least give the possibility to remove an asset from it.
- Carousels don't have any caption but can have a description line.

[View source](https://github.com/strapi/design-system/tree/main/packages/strapi-design-system/src/CarouselInput)

## Imports

```js
import { CarouselInput, CarouselSlide, CarouselImage, CarouselActions } from '@strapi/design-system';
```

## Usage

A CarouselInput is mostly used in forms. Thanks to their navigational arrows they allow to easily switch from an asset
to another. It has an infinite loop. A set of actions is possible via Icon Buttons within a CarouselInput.

<Canvas>
  <Story name="base">
    {() => {
      const [selectedIndex, setSelectedIndex] = useState(0);
      const handleNext = () => {
        setSelectedIndex((current) => (current < 2 ? current + 1 : 0));
      };
      const handlePrevious = () => {
        setSelectedIndex((current) => (current > 0 ? current - 1 : 2));
      };
      return (
        <CarouselInput
          label={`Carousel of numbers (${selectedIndex + 1}/3)`}
          selectedSlide={selectedIndex}
          secondaryLabel="/packages/strapi-design-system/src/Carousel/story-assets/first.jpg"
          previousLabel="Previous slide"
          nextLabel="Next slide"
          onNext={handleNext}
          onPrevious={handlePrevious}
          hint="Description line"
          actions={
            <CarouselActions>
              <IconButton onClick={() => console.log('edit')} label="Edit" id="edit" icon={<Pencil />} />
              <IconButton onClick={() => console.log('Create')} label="Create" icon={<Plus />} />
              <IconButton onClick={() => console.log('Delete')} label="Delete" icon={<Trash />} />
              <IconButton onClick={() => console.log('Publish')} label="Publish" icon={<Play />} />
            </CarouselActions>
          }
          style={{ width: '242px' }}
        >
          <CarouselSlide label="1 of 3 slides">
            <CarouselImage src={'/first.jpg'} alt="First" />
          </CarouselSlide>
          <CarouselSlide label="2 of 3 slides">
            <CarouselImage src={'/second.png'} alt="second" />
          </CarouselSlide>
          <CarouselSlide label="3 of 3 slides">
            <CarouselImage src={'/third.png'} alt="third" />
          </CarouselSlide>
        </CarouselInput>
      );
    }}
  </Story>
  <Story name="one slide only">
    {() => {
      return (
        <CarouselInput
          label="Carousel of numbers 1/1)"
          selectedSlide={0}
          previousLabel="Previous slide"
          nextLabel="Next slide"
          onNext={() => {}}
          onPrevious={() => {}}
          hint="Description line"
          actions={
            <CarouselActions>
              <IconButton onClick={() => console.log('edit')} label="Edit" id="edit" icon={<Pencil />} />
              <IconButton onClick={() => console.log('Create')} label="Create" icon={<Plus />} />
              <IconButton onClick={() => console.log('Delete')} label="Delete" icon={<Trash />} />
              <IconButton onClick={() => console.log('Publish')} label="Publish" icon={<Play />} />
            </CarouselActions>
          }
          style={{ width: '242px' }}
        >
          <CarouselSlide label="1 of 1 slides">
            <CarouselImage src={'/first.jpg'} alt="First" />
          </CarouselSlide>
        </CarouselInput>
      );
    }}
  </Story>
  <Story name="broken-asset">
    {() => {
      return (
        <CarouselInput
          label="Carousel of numbers 1/1)"
          selectedSlide={0}
          previousLabel="Previous slide"
          nextLabel="Next slide"
          onNext={() => {}}
          onPrevious={() => {}}
          hint="Description line"
          actions={
            <CarouselActions>
              <IconButton onClick={() => console.log('edit')} label="Edit" id="edit" icon={<Pencil />} />
              <IconButton onClick={() => console.log('Create')} label="Create" icon={<Plus />} />
              <IconButton onClick={() => console.log('Delete')} label="Delete" icon={<Trash />} />
              <IconButton onClick={() => console.log('Publish')} label="Publish" icon={<Play />} />
            </CarouselActions>
          }
          style={{ width: '242px' }}
        >
          <CarouselSlide label="1 of 1 slides">
            <CarouselImage src="asdf" alt="my image" />
          </CarouselSlide>
        </CarouselInput>
      );
    }}
  </Story>
</Canvas>

## Props

The CarouselInput component wraps all its children in the
(Box)[https://design-system-git-main-strapijs.vercel.app/?path=/docs/design-system-technical-components-box--base]
component, so you can pass all Box props to change its style.

<ArgsTable of={CarouselInput} />

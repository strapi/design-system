import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs';

import { Select } from '@strapi/ui-primitives';
import { Check } from '@strapi/icons';

<Meta title="Design System/Primitives/Select" component={Select.Root} />

# Select

Forked from `@radix-ui/react-select`, we've added the ability to multi select.

Displays a list of options for the user to pick fromâ€”triggered by an input or button. <br />
Alternatively, can be typed into to filter the list of options and set an option assuming a match.

## Usage

```ts
import { Select } from '@strapi/ui-primitives';
```

### Single Item

<Canvas>
  <Story name="Single Item">
    <Select.Root>
      <Select.Trigger>
        <Select.Value placeholder="Select an option..." />
        <Select.Icon />
      </Select.Trigger>
      <Select.Portal>
        <Select.Content position="popper" sideOffset={4}>
          <Select.Viewport>
            <Select.Item value="1">
              <Select.ItemText>Option 1</Select.ItemText>
              <Select.ItemIndicator>
                <Check />
              </Select.ItemIndicator>
            </Select.Item>
            <Select.Item value="2">
              <Select.ItemText>Option 2</Select.ItemText>
              <Select.ItemIndicator>
                <Check />
              </Select.ItemIndicator>
            </Select.Item>
            <Select.Item value="3">
              <Select.ItemText>Option 3</Select.ItemText>
              <Select.ItemIndicator>
                <Check />
              </Select.ItemIndicator>
            </Select.Item>
            <Select.Item value="4">
              <Select.ItemText>Option 4</Select.ItemText>
              <Select.ItemIndicator>
                <Check />
              </Select.ItemIndicator>
            </Select.Item>
          </Select.Viewport>
        </Select.Content>
      </Select.Portal>
    </Select.Root>
  </Story>
</Canvas>

### Mulitple Items

<Canvas>
  <Story name="Multiple Items">
    <Select.Root multi>
      <Select.Trigger>
        <Select.Value placeholder="Select an option..." />
        <Select.Icon />
      </Select.Trigger>
      <Select.Portal>
        <Select.Content position="popper" sideOffset={4}>
          <Select.Viewport>
            <Select.Item value="1">
              <Select.ItemText>Option 1</Select.ItemText>
              <Select.ItemIndicator>
                <Check />
              </Select.ItemIndicator>
            </Select.Item>
            <Select.Item value="2">
              <Select.ItemText>Option 2</Select.ItemText>
              <Select.ItemIndicator>
                <Check />
              </Select.ItemIndicator>
            </Select.Item>
            <Select.Item value="3">
              <Select.ItemText>Option 3</Select.ItemText>
              <Select.ItemIndicator>
                <Check />
              </Select.ItemIndicator>
            </Select.Item>
            <Select.Item value="4">
              <Select.ItemText>Option 4</Select.ItemText>
              <Select.ItemIndicator>
                <Check />
              </Select.ItemIndicator>
            </Select.Item>
          </Select.Viewport>
        </Select.Content>
      </Select.Portal>
    </Select.Root>
  </Story>
</Canvas>

### Nested Items

<Canvas>
  <Story name="Nested Items">
    <Select.Root multi>
      <Select.Trigger>
        <Select.Value placeholder="Select an option..." />
        <Select.Icon />
      </Select.Trigger>
      <Select.Portal>
        <Select.Content position="popper" sideOffset={4}>
          <Select.Viewport>
            <Select.Item value="1">
              <Select.ItemText>Option 1</Select.ItemText>
              <Select.ItemIndicator>
                <Check />
              </Select.ItemIndicator>
            </Select.Item>
            <Select.Item value="2">
              <Select.ItemText>Option 2</Select.ItemText>
              <Select.ItemIndicator>
                <Check />
              </Select.ItemIndicator>
            </Select.Item>
            <Select.Group>
              <Select.Label>Options 3 & 4</Select.Label>
              <Select.Item value="3">
                <Select.ItemText>Option 3</Select.ItemText>
                <Select.ItemIndicator>
                  <Check />
                </Select.ItemIndicator>
              </Select.Item>
              <Select.Item value="4">
                <Select.ItemText>Option 3</Select.ItemText>
                <Select.ItemIndicator>
                  <Check />
                </Select.ItemIndicator>
              </Select.Item>
            </Select.Group>
          </Select.Viewport>
        </Select.Content>
      </Select.Portal>
    </Select.Root>
  </Story>
</Canvas>

## Anatomy

The `Select` primitive is composed of the following components:

- `Select.Root`
- `Select.Trigger`
- `Select.TextInput`
- `Select.Icon`
- `Select.Portal`
- `Select.Content`
- `Select.Viewport`
- `Select.Item`
- `Select.ItemText`
- `Select.ItemIndicator`

and is combined in the following way:

```tsx
() => {
  return (
    <Select.Root>
      <Select.Trigger>
        <Select.TextInput placeholder="Pick me" />
        <Select.Icon />
      </Select.Trigger>
      <Select.Portal>
        <Select.Content>
          <Select.Viewport>
            <Select.Item value="1">
              <Select.ItemText>Option 1</Select.ItemText>
              <Select.ItemIndicator>
                <Check />
              </Select.ItemIndicator>
            </Select.Item>
            <Select.NoValueFound>No value found</Select.NoValueFound>
            <Select.CreateItem>Create a new value</Select.CreateItem>
          </Select.Viewport>
        </Select.Content>
      </Select.Portal>
    </Select.Root>
  );
};
```

## API Reference

### Root

<ArgsTable of={Select.Root} />

### Trigger

<ArgsTable of={Select.Trigger} />

### TextInput

<ArgsTable of={Select.TextInput} />

### Icon

<ArgsTable of={Select.Icon} />

### Portal

<ArgsTable of={Select.Portal} />

### Content

<ArgsTable of={Select.Content} />

### Viewport

<ArgsTable of={Select.Viewport} />

### Item

<ArgsTable of={Select.Item} />

### ItemText

<ArgsTable of={Select.ItemText} />

### ItemIndicator

<ArgsTable of={Select.ItemIndicator} />

## Accessibility

Adheres to the [ListBox WAI-ARIA design pattern](https://www.w3.org/WAI/ARIA/apg/patterns/listbox/).

See the W3C [Select-Only Combobox](https://www.w3.org/WAI/ARIA/apg/patterns/combobox/examples/combobox-select-only/) example for more information.
